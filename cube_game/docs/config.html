<html>
	<head>
		<title>cube configuration</title></head>
	<body text="#ffffff" vLink="#ff9900" aLink="#ff9900" link="#ffbb00" bgColor="#302c28">
		<font face="verdana,trebuchet ms,zurich bt,tahoma,arial,helvetica,sans-serif">
			<center>&nbsp;&nbsp;
				<p>
					<table width="80%" cellSpacing="0" cellPadding="4" border="0">
						<TBODY>
							<tr>
								<td bgColor="#662222"><font size="3"><strong>Instructions for running cube </strong></font>
								</td>
							</tr>
							<tr>
								<td>
									<P><font size="-1"> Install, and run the cube.bat. Needs a decent &amp; compliant 
											OpenGL implementation. before you do, you may want to look at the config which 
											is in "autoexec.cfg" and which should be fairly familiar if you ever played a 
											quake style game. If you want to rebind your keys, see the "bind" command 
											below. press ESC to go into the menu with many useful commands. </font>
									</P>
									<P><FONT size="-1">Cube derives its simplicity from some rather brute force rendering 
											methods, and as such it needs a&nbsp;decent machine to get good visual quality. 
											It runs best with "vertical sync" OFF and at high refresh rates (you may get 
											excessive LOD/FPS variance otherwise). </FONT>
									</P>
									<P><FONT size="2">absolute minimum spec: p200 with tnt2/v3 (15-20 fps @640 depending on 
											map)<BR>
											reccommended spec: p500 with gf1/radeon or better (50-60 fps on&nbsp;most maps)<BR>
											ideal spec: 1ghz and gf3/radeon8500 or better (fluent in all cases)</FONT></P>
									<P><FONT size="-1">Most frequent FAQs:</FONT></P>
									<UL>
										<LI>
											<FONT size="-1"><EM>I have an amazing graphics card&nbsp;but Cube still runs at 9 fps!<BR>
												</EM>Cube is somehow running on software OpenGL. This can happen because you 
												are on a default windows install and haven't installed the latest drivers for 
												your card, or similarly on Linux the system is using&nbsp;Mesa instead 
												of&nbsp;accellerated drivers.<BR>
											</FONT>
										<LI>
											<FONT size="2"><EM>Cube runs, but&nbsp;I can't shoot anything / rockets blow up in my 
													face!<BR>
												</EM>Cube uses OpenGL to find out what&nbsp;position in the 3d world the 
												crosshair is pointing at. If you have old/buggy drivers, or drivers for a badly 
												supported card, it may be that this feature is broken. Your only solution is to 
												install better/newer drivers, or failing that, buy a new card.<BR>
											</FONT>
										<LI>
											<FONT size="2"><EM>When I run cube it fails not finding some texture or other!<BR>
												</EM>You are running the cube executable directly, use cube.bat or cube_unix 
												scripts from the main directory instead. On linux, make sure it is chmod-ed 
												correctly.<BR>
											</FONT>
										<LI>
											<FONT size="2"><EM>I compiled from source but now I can't connect to multiplayer 
													servers!<BR>
												</EM>You failed to read the readme that comes with the source in its entirety. 
												Do so and all will become clear.</FONT></LI></UL>
									<p>&nbsp;</p>
								</td>
							</tr>
							<tr>
								<td bgColor="#662222"><font size="3"><strong>Command line options </strong></font>
								</td>
							</tr>
							<tr>
								<td><font size="-1">-d runs a dedicated server
										<br>
										<p>
										Default is a non-dedicated server with only a single client. Dedicated servers 
										run in the shell only (no graphics), with increased priority yet use very 
										little cpu time &amp; memory, so you can run one in the background, or at the 
										same time with a client if you want to host a game.&nbsp;Server port is fixed 
										at 28765, with 28766 being used for the server info requests (both UDP).
										<p>-wX sets desired screen width to X, default is -w640
											<br>
											-hY sets desired screen height to Y, default is -h480
											<br>
										-t runs windowed
										<p>
										-uN sets the server upstream bandwidth to N bytes per second. only set this 
										parameter if you know what you are doing, specifying a wrong value is worse 
										than not specifying it at all.
										<p>
										-nN sets the server description, for people pinging the server. usually does 
										not need to be set if you have a descriptive domain name already, but if you 
										set it, keep it short as it may otherwise be truncated, i.e. 
										-nBobsInstagibServer
										<p>
										-iIP sets the server ip to IP. this option is only useful for people running on 
										machines with multiple network interfaces.
										<p>
										-mM sets the master server to use for either server (registering) and client 
										(updating) to M. M is the base url of the master server and has to end in a / 
										and without a http:// prefix, the default is 
										wouter.fov120.com/cube/masterserver/. If you want your server to be private and 
										not report to the masterserver, use -mlocalhost.
										<P>
										-pPASS sets the server password to PASS. Only clients that use the command 
										"password PASS" will be able to connect.
										<P>
										-cN sets the maximum number of players that can play on this server to N 
										(default 4). If more players try to connect they will get a "server full" 
										message. </font>
									<P></P>
								</td>
							</tr>
							<tr>
								<td bgColor="#662222"><font size="3"><strong>General console commands and configuration </strong>
									</font>
								</td>
							</tr>
							<tr>
								<td><font size="-1"><pre><font size=3>    bind K A      </font></pre>
										binds key K to commands A (see console language below for what you can put in 
										A). To find out what key names and their default bindings are, look at 
										data/keymap.cfg, then add bind commands to your autoexec.cfg.
										<pre><font size=3>    alias N A      </font></pre>
										binds name N to commands A, after which you can use N as a shortcut for A. You 
										may re-bind N as often as you like, and bind N again within the execution of A 
										etc.
										<pre><font size=3>    quit      </font></pre>
										quits without asking.
										<pre><font size=3>    forward / backward / left / right      </font></pre>
										move you in said direction (defaults to cursor keys).
										<pre><font size=3>    attack      </font></pre>
										fires the current weapon. default = left mouse
										<pre><font size=3>    jump      </font></pre>
										triggers a jump. default key space &amp; right mouse.
										<pre><font size=3>    invmouse B      </font></pre>
										sets mouse to "flight sim" mode if B is not 0
										<pre><font size=3>    sensitivity S      </font></pre>
										sets mouse sensitivity (see autoexec.cfg). with <FONT face="Courier New">sensitivityscale</FONT>
										you can specify a number that the sensitivity is divided by.
										<pre><font size=3>    fov N      </font></pre>
										sets your FOV to 10..120.
										<pre><font size=3>    minmillis N      </font></pre>
										Sets the minimum number of milliseconds a frame should take. This is for very 
										fast machines that run Cube at hundreds of fps. Default is 5, i.e. try to stay 
										close to 200fps. This command is not exact, i.e. the precise delay it generates 
										depends on OS and other factors... experiment with your ideal setting. To turn 
										it off, simply set it to 0.
										<pre><font size=3>    fog N      </font></pre>
										sets fog distance to N (default currently 160). You can do this for tweaking 
										the visual effect of the fog, or if you are on a slow machine, setting the fog 
										to a low value can also be a very effective way to increase fps (if you are 
										geometry limited). Try out different values on big maps / maps which give you 
										low fps.
										<pre><font size=3>    fogcolour C      </font></pre>
										Sets fog and clearing colour to C, the default being 0x8099B3. This and the fog 
										variable can be set in the map specific .cfg file.
										<pre><font size=3> dynlight R      </font></pre>
										determines wether dynamic shadows &amp; lights are rendered, providedjust 
										incase they slow your fps down too much. With radius you can&nbsp;specify the 
										radius of a dynamic light (default 16), smaller to maybe gain some speed (0 is 
										off entirely), or bigger to see the effect of dynamic shadows more dramatically 
										(try shooting it past some pillars that have a dark area on the other side... 
										or use the "gamespeed" variable).
										<pre><font size=3>    lighterror E      </font></pre>
										Allows you to finetune the amount of "error" the mipmapper/stripifier allow 
										themselves for changing lightlevels. Set to 1 for maximum light quality at the 
										expense of fps, set to some high value to gain fps but with messier lighting 
										(only helps if you are geometry limited). Default = 8. If you change this 
										during play, you have to do a "recalc" to see the effect.
										<pre><font size=3>    watersubdiv N      </font></pre>
										determines the subdivision of the water surface in maps, which can greatly 
										affect fps on slow machines. Must be a power of 2: 4 is the default, 8 is 
										recommended for people on slow machines, 2 is nice for fast machines, and 1 is 
										quite OTT. See "waterlevel" (edit reference) on how to add water to your own 
										levels.
										<pre><font size=3>    maxparticles N  </font></pre>
										Sets the maximum number of particles rendered at any one time. If more 
										particles are generated than this number, the oldest ones are culled, so you 
										can safely set this number relatively low without loss of information. default 
										1000.
										<pre><font size=3>    screenshot      </font></pre>
										writes out "screenshots/screenshotN.bmp", where N is the number of milliseconds 
										since cube was launched (default key = F12).
										<pre><font size=3>    musicvol n      </font></pre>
										<pre><font size=3>    soundvol n      </font></pre>
										sets the music/sound volume from 0 to 255
										<pre><font size=3>    soundbufferlen n      </font></pre>
										(default 512) tweak this if you experience stuttering or lagging sound
										<pre><font size=3>    gamma n      </font></pre>
										sets the hardware gamma value to n percent (default 100). May not work if your 
										card/driver doesn't support it.
										<pre><font size=3>    hidestats b      </font></pre>
										turns on/off display of fps/rendering stats on the HUD (default = 1).
										<pre><font size=3>    maxroll n      </font></pre>
										sets the maximum value your display will roll on strafing (0..20, default = 3)
										<pre><font size=3>    crosshairsize n      </font></pre>
										sets the size of your crosshair, 0 being off (default = 3)
										<pre><font size=3>    crosshairfx b      </font></pre>
										turns on or of crosshair effects (default 1). when on, the crosshair will go 
										grey when the weapon is reloading, orange when health &lt;= 50, or red when 
										&lt;=25.
										<pre><font size=3>    exec C      </font></pre>
										executes all commands in config file C.
										<pre><font size=3>    newmenu N      </font></pre>
										creates a new menu with name N. All following menuitem commands will apply to 
										this menu
										<pre><font size=3>    menuitem N A      </font></pre>
										<pre><font size=3>    menuitem A      </font></pre>
										creates a new menuitem with description N and action A. if you only specify 1, 
										then it will be used for both the description and the action. See 
										data/menus.cfg for examples.
										<pre><font size=3>    showmenu N      </font></pre>
										displays the menu with name N previously defined, and allows the user to pick 
										an item with the cursor keys. Upon pressing return, the associated action will 
										be executed. pressing ESC will cancel the menu.
										<pre><font size=3>    history N     </font></pre>
										Executes the Nth command in the command line history. For example, binding 
										"history 0" to a key allows you to quickly repeat the last command typed in 
										(useful for placing many identical entities etc.)
										<pre><font size=3>    keymap K N A      </font></pre>
										sets up the keymap for key code K with name N and default action A. You should 
										never have to use this command manually, use "bind" instead.
										<pre><font size=3>    lightscale N      </font></pre>
										used to finetune the "overbright lighting" rendering feature when enabled: 
										lower numbers make the scene brighter, default = 4. After changing this value, 
										you need to use "recalc" to see the differences.
										<pre><font size=3>    particlesize P      </font></pre>
										scales all particles by percentage P.
										<p>
										To use overbright lighting, your card needs to support the 
										"EXT_texture_env_combine" extension (Nvidia from TNT1 and upwards, ATI from 
										rage128/radeon and upwards,&nbsp;but not on voodoos afaik). Overbright lighting 
										uses a different lighting model (lights that overlap "add" rather use the 
										biggest of the two, and lightsources have an exponential rather than linear 
										model), so lighting may look different depending on how the mapper placed the 
										lights. Maps should be made with additive/exponential lighting in mind, 
										however,&nbsp;because soon everyone will have a card that supports this 
										extension.
										<P>
										Do not confuse "lightscale" with "gamma", they have different effects. It is 
										best to leave "lightscale" at the default and tune gamma to get the right 
										brightness level for your situation, but you can tune the other way around if 
										you find the saturation level of a certain gamma level more important. changing 
										the lightscale will have an effect on the distribution of lightsources (higher 
										lightscale will make them more like spotlights). Generally, gamma needs to be 
										lower compared to&nbsp;older cube releases.
										<P>&nbsp;</P>
									</font>
								</td>
							</tr>
							<tr>
								<td bgColor="#662222"><font size="3"><strong>Console Language </strong></font>
								</td>
							</tr>
							<tr>
								<td><font size="-1">Cube's console language is similar to console languages of other 
										games (e.g. Quake), but is a bit more powerful in that it is almost a full 
										programming language.
										<p>
										What is similar to quake is the basic command structure: commands consist of 
										the command itself, followed by any number of arguments seperated by 
										whitespace. you can use "" to quote strings with whitespace in them (such as 
										the actions in bind/alias), and whereever a command is required you can also 
										use ; to sequence multiple commands in one.
										<p>What is new compared to quake is that you can evaluate aliases and expressions. 
											You can substitute the value of an alias as an argument by prefixing it with a 
											"$" sign, i.e.: <code><font size="2">echo The current value of x is $x</font></code>
										You can even substitute the values of console variables this way, i.e $fov 
										gives the current fov. Some aliases are set automatically, for example $arg1 to 
										$argN are set if you supply arguments when you execute an alias.
										<p>There are two alternative ways to "" to quote a string: () and []. They work in 
											the same way as "", with the difference that they can be nested infinitely, and 
											that they may contain linefeeds (useful for larger scripts). () is different 
											from [] in that it evaluates the commands contained in it _before_ it evaluates 
											the surrounding command, and substitutes the results. () bracketed strings are 
											called expressions, and combined with some commands made especially for 
											"programming", you have a minimal language:
											<pre><font size=3>    + A B      </font></pre>
											<pre><font size=3>    - A B      </font></pre>
											<pre><font size=3>    * A B      </font></pre>
											<pre><font size=3>    div A B      </font></pre>
											<pre><font size=3>    mod A B      </font></pre>
											(add, substract, multiply, divide, modulo): these all work like the integer 
											operators from other languages. Example:
											<br>
											<code><font size="2">echo x squared is (* $x $x)</font></code>
											<pre><font size=3>    = A B      </font></pre>
											<pre><font size=3>    &lt; A B      </font></pre>
											<pre><font size=3>    &gt; A B      </font></pre>
											<pre><font size=3>    strcmp A B      </font></pre>
											(equals, lessthan, greaterthan, stringcompare): comparison operators that 
											return 1 for true and 0 for false.
											<pre><font size=3>    if cond true false      </font></pre>
											executes the true or false&nbsp;part depending on wether cond is "0" or 
											something else. Example:
											<br>
											<code><font size="2">if (&lt; $x 10) [ echo x is $x ] [ echo x is too big ]</font></code>
											<pre><font size=3>    loop N body      </font></pre>
											evaluates body N times, and sets the alias "i" from 0 to N-1 for every 
											iteration. Example:
											<br>
											<code><font size="2">loop 10 [ echo $i ]</font></code>
											<pre><font size=3>    while cond body      </font></pre>
											evaluates body while cond evaluates to true. Note that cond here has to have 
											[], otherwise it would only be evaluated once. Example (same result as the 
											"loop" example):
											<br>
											<code><font size="2">alias i 0; while [ (&lt; $i 10) ] [ echo $i; alias i (+ $i 1) ]</font></code>
											<pre><font size=3>    concat S...      </font></pre>
											concatenates all the arguments into alias "s"
											<pre><font size=3>    concatword S...      </font></pre>
											same as concat but without spaces between the elements.
											<pre><font size=3>    at S N      </font></pre>
											grabs the Nth word out of string S and puts it into alias "s"
											<pre><font size=3>    onrelease A      </font></pre>
											only executes A if the command is executed on the release of a key/button (must 
											be in an action in a bind or an alias in a bind).
											<pre><font size=3>    sleep N C    </font></pre>
											executes command C after N milliseconds have passed. only one command can be 
											sleeping at any one time. gets reset at map load. &nbsp;
											<pre><font size=3>    (millis)      </font></pre>
										returns the number of milliseconds since engine start.
										<p>variables that are only really useful when used as value:
											<pre><font size=3>    $editing      </font></pre>
											true when in edit mode
											<pre><font size=3>    $flrceil      </font></pre>
										0 when the player looks at the floor, and 2 when looking at the ceiling. </font>
									&nbsp;
									<P></P>
									<P>&nbsp;</P>
									<P></P>
								</td>
							</tr>
							<tr>
								<td bgColor="#662222"><font size="3"><strong>How cube works </strong></font>
								</td>
							</tr>
							<tr>
								<td><font size="-1">The cube engine is simplicity itself. The whole map consists of a 
										large 2D array of "cubes", each with a floor and ceiling height, textures (for 
										floor/ceiling/wall) and other properties. These cubes are grouped 2x2 at a time 
										recursively into a "quad tree", which is used hold bigger cubes which can be 
										rendered faster. For those who have edited doom, this is very similar to having 
										a lot of square sectors but at overlapping sizes. This is results in a map that 
										can have no room over room (yet), and is pretty cubic, except for the odd 
										slope/slant here and there.
										<p>
										The floor size of a single unit (single cube) is similar to about 16x16 units 
										in games such as doom &amp; quake, so a staircase step is usually 1 unit, a 
										wall 8 units high etc.
										<p>
										Cube renders this world by first determining which cubes are visible using a 
										"dynamic occlusion culling" algorithm and frustrum culling. You can see the 
										effect of this when you switch to edit mode (E), and then fly out above a map: 
										you'll see parts of the map dropping away as you move. The remaining cubes are 
										then rendered in their most efficient size (i.e. cube will render a mixture of 
										1x1 2x2 4x4 etc. size cubes, depending on wether they have the same properties: 
										height, texturing etc.).
										<p>
										if you are on a fast machine, or you are playing a simple/small map, cube will 
										simply render all of these visible cubes (this is indicated by LOD at its 
										maximum of 250 on the hud). Cube can however make complex maps run fast even on 
										slower computers by a technique called LOD: this will render cubes that are 
										further away using bigger approximations (2x2 and up), even the properties of 
										the constituent cubes don't match exactly. This reduces the amount of polys to 
										be rendered tremendously, and thus allows even slow machines to have a 
										consistent frame rate (cube will adapt the LOD figure every frame to aim for 
										the fps you specify). The downside is of course that if the approximations are 
										visible closeup, this can lead to ugly graphical glitches (this is called 
										"popup" because it changes as you move). So in the end the choice is up to you: 
										good fps or constant visual quality (most engines only cater for the latter).
										<p>
									</font>
					&nbsp;</p>
				</TD></TR></TBODY></TABLE></center>
		</font></P>
	</body>
</html>
